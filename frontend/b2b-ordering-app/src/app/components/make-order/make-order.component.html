<div class="container mt-4">
  <h2 class="mb-4">Make an Order</h2>

  <div class="mb-3">
    <label class="form-label">Order description (optional)</label>
    <textarea class="form-control" [(ngModel)]="description"></textarea>
  </div>

  <div class="card mb-3" *ngFor="let product of products">
    <div class="card-body d-flex justify-content-between align-items-center">
      <div>
        <h5 class="mb-1">{{ product.name }}</h5>
        <small class="text-muted">
          Stock: {{ product.stock_quantity }}
        </small>
      </div>

      <input
        type="number"
        class="form-control quantity-input"
        min="0"
        [max]="product.stock_quantity"
        [(ngModel)]="quantities[product.name]"
      />
    </div>
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <button
    class="btn btn-primary rounded-pill px-4"
    [disabled]="loading"
    (click)="placeOrder()"
  >
    <i class="bi bi-cart-check me-1"></i>
    {{ loading ? 'Placing order...' : 'Place Order' }}
  </button>
</div>
