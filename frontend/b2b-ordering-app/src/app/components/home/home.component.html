<div class="home-container">
  <div class="d-flex justify-content-between align-items-center">
    <div>
      <h1 class="mb-3">Available Products</h1>
    </div>

    <div>
      <!-- here an order button -->
      <button
        class="mb-3 btn btn-primary rounded-pill px-4"
        routerLink="/make-order"
      >
        <i class="bi bi-cart-plus me-1"></i>
        Order
      </button>


    </div>
  </div>


  <div class="error-message" *ngIf="errorMessage">
    {{ errorMessage }}
  </div>

  <div class="loading" *ngIf="loading">
    <p>Loading products...</p>
  </div>

  <div class="products-grid" *ngIf="!loading && products.length > 0">
    <div class="product-card" *ngFor="let product of products">
      <div class="product-header">
        <h3>{{ product.name }}</h3>
        <span class="product-sku">SKU: {{ product.sku }}</span>
      </div>

      <div class="product-body">
        <p class="product-description">{{ product.description }}</p>

        <div class="product-stock">
          <span class="stock-label">Stock:</span>
          <span
            class="stock-value"
            [class.low-stock]="isLowStock(product)"
            [class.out-of-stock]="product.stock_quantity === 0"
          >
            {{ product.stock_quantity }} units
          </span>
        </div>

        <div class="product-meta">
          <span class="min-stock">Min: {{ product.min_stock }}</span>
          <span class="created-date">
            Added: {{ product.created_at | date:'short' }}
          </span>
        </div>
      </div>
    </div>
  </div>

  <div class="no-products" *ngIf="!loading && products.length === 0">
    <p>No products available at the moment.</p>
  </div>
</div>
